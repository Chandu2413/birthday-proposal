@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');

:root{
  --pink: #ff6fa1;
  --hot-pink: #ff69b4;
  --red: #ff3b6b;
  --dark: #0f0f14;
  --glass: rgba(255,255,255,0.12);
  --glass-2: rgba(255,255,255,0.2);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#1a1520;
  color:#fff;
  overflow-x:hidden;
}

/* Music button */
#music-btn{
  position: fixed;
  top: 16px; right: 16px;
  z-index: 9999;
  background: rgba(0,0,0,0.45);
  border: none; color:#fff; font-size: 20px;
  width: 44px; height: 44px; border-radius: 50%;
  display:grid; place-items:center; cursor: pointer;
  backdrop-filter: blur(4px);
}

/* Welcome section with cake background */
#welcome{
  min-height: 100vh;
  background: url('../images/cake-bg.jpg') center/cover no-repeat fixed;
  position: relative;
  display: grid;
  place-items: center;
  text-align:center;
}
#welcome .overlay{
  position:absolute; inset:0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.25), rgba(0,0,0,0.6));
}
.welcome-inner{position:relative; z-index:1; padding: 0 16px;}
.title{
  font-size: clamp(28px, 6vw, 56px);
  line-height:1.15;
  letter-spacing: 0.5px;
  background: linear-gradient(90deg, #fff, #ffd1e6);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 0 24px rgba(255,255,255,0.25);
}
.subtitle{opacity:0.9; margin-top:12px}

/* Sections */
.section-title{
  font-size: clamp(24px, 4.5vw, 36px);
  text-align:center;
  margin: 40px 0 10px;
  color:#ffd6ea;
  text-shadow: 0 0 10px rgba(255, 105, 180, 0.45);
}
#memories, #proposal{
  padding: 24px 16px 56px;
}

/* Gallery grid */
.gallery{
  --size: 320px;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, var(--size)), 1fr));
  gap: 22px;
  max-width: 1100px; margin: 0 auto;
}
.photo-container{
  position:relative;
  display:flex; flex-direction:column; align-items:center;
}

/* Media (images/videos) */
.photo{
  width: 100%;
  max-width: 420px;
  border-radius: 16px;
  background:#000;
  box-shadow: 0 10px 28px rgba(0,0,0,0.35);
  opacity: 0; transform: translateY(30px) scale(0.94);
  transition: transform 900ms ease, opacity 900ms ease, box-shadow 900ms ease;
}

/* Soft glow animation when visible */
@keyframes softGlow {
  0%   { box-shadow: 0 10px 24px rgba(255,105,180,0.35); }
  50%  { box-shadow: 0 10px 42px rgba(255,105,180,0.85); }
  100% { box-shadow: 0 10px 24px rgba(255,105,180,0.35); }
}
.photo.show{
  opacity:1; transform: translateY(0) scale(1);
  animation: softGlow 2.2s ease-in-out infinite alternate;
}

/* Video sizing stays elegant */
video.photo{
  max-height: 420px;
  object-fit: cover;
}

/* Captions with glow */
.caption{
  margin-top: 10px;
  font-weight: 600;
  color:#ffe0ef;
  background: rgba(255,255,255,0.08);
  padding: 8px 14px; border-radius: 999px;
  opacity: 0; transform: translateY(16px);
  transition: all 900ms ease;
  box-shadow: inset 0 0 0 0 rgba(255,105,180,0.55);
}
@keyframes captionGlow {
  0%   { text-shadow: 0 0 6px rgba(255,105,180,0.5); }
  50%  { text-shadow: 0 0 16px rgba(255,105,180,0.95); }
  100% { text-shadow: 0 0 6px rgba(255,105,180,0.5); }
}
.caption.show{
  opacity:1; transform: translateY(0);
  animation: captionGlow 2.2s ease-in-out infinite alternate;
}

/* Proposal card */
#proposal{
  background:
    radial-gradient(80% 80% at 50% 0%, rgba(255,105,180,0.12), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0));
}
.proposal-card{
  position: relative;
  max-width: 780px; margin: 16px auto 0;
  padding: 28px 20px 44px;
  border-radius: 20px;
  background: var(--glass);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.12);
  text-align:center;
}
.proposal-title{
  font-size: clamp(24px, 5vw, 40px);
  margin: 0 0 10px;
  color:#ffe7f3;
}
.buttons{margin-top: 10px;}
.btn{
  padding: 12px 20px; margin: 10px 8px;
  border:none; border-radius: 14px; font-weight:700;
  cursor: pointer; font-size: 16px;
  transition: transform .15s ease, box-shadow .2s ease;
}
.btn:active{transform: scale(0.98)}
.btn.yes{background: var(--red); color:#fff; box-shadow: 0 8px 24px rgba(255,59,107,0.45);}
.btn.no{background: #5f6275; color:#fff; box-shadow: 0 8px 24px rgba(0,0,0,0.35);}

.proposal-message{
  min-height: 28px;
  margin-top: 14px; color:#ffd9e9; font-weight:600;
}

/* Fireworks canvas */
#fireworks{
  position:absolute; inset:0; pointer-events:none;
}

/* Floating hearts (emoji) */
.heart{
  position: fixed;
  bottom: -10px;
  font-size: 20px; color: #ff6fa1;
  animation: floatHearts 6s linear forwards;
  z-index: 50; pointer-events:none;
  filter: drop-shadow(0 0 6px rgba(255,105,180,0.7));
}
@keyframes floatHearts{
  0%{ transform: translateY(0) scale(0.8); opacity: 0; }
  15%{ opacity:1; }
  85%{ opacity:1; }
  100%{ transform: translateY(-100vh) scale(1.2); opacity: 0; }
}

/* Responsive tweaks */
@media (max-width: 520px){
  .caption{font-size: 14px}
}
